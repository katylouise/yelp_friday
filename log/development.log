

Started GET "/" for ::1 at 2015-09-03 11:54:22 +0100

ActiveRecord::NoDatabaseError (FATAL:  database "yelp_clone_monday_development" does not exist
):
  activerecord (4.2.2) lib/active_record/connection_adapters/postgresql_adapter.rb:661:in `rescue in connect'
  activerecord (4.2.2) lib/active_record/connection_adapters/postgresql_adapter.rb:651:in `connect'
  activerecord (4.2.2) lib/active_record/connection_adapters/postgresql_adapter.rb:242:in `initialize'
  activerecord (4.2.2) lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `new'
  activerecord (4.2.2) lib/active_record/connection_adapters/postgresql_adapter.rb:44:in `postgresql_connection'
  activerecord (4.2.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:438:in `new_connection'
  activerecord (4.2.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:448:in `checkout_new_connection'
  activerecord (4.2.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:422:in `acquire_connection'
  activerecord (4.2.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:349:in `block in checkout'
  /Users/rebeccaappleyard1984/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/monitor.rb:211:in `mon_synchronize'
  activerecord (4.2.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:348:in `checkout'
  activerecord (4.2.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:263:in `block in connection'
  /Users/rebeccaappleyard1984/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/monitor.rb:211:in `mon_synchronize'
  activerecord (4.2.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:262:in `connection'
  activerecord (4.2.2) lib/active_record/connection_adapters/abstract/connection_pool.rb:567:in `retrieve_connection'
  activerecord (4.2.2) lib/active_record/connection_handling.rb:113:in `retrieve_connection'
  activerecord (4.2.2) lib/active_record/connection_handling.rb:87:in `connection'
  activerecord (4.2.2) lib/active_record/migration.rb:384:in `connection'
  activerecord (4.2.2) lib/active_record/migration.rb:371:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.2) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.2) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.2) lib/active_support/callbacks.rb:776:in `_run_call_callbacks'
  activesupport (4.2.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.2) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/rebeccaappleyard1984/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/rebeccaappleyard1984/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/rebeccaappleyard1984/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.9ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (65.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.6ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (68.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (139.9ms)


Started GET "/" for ::1 at 2015-09-03 11:56:18 +0100

ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rake db:migrate RAILS_ENV=development

):
  activerecord (4.2.2) lib/active_record/migration.rb:393:in `check_pending!'
  activerecord (4.2.2) lib/active_record/migration.rb:374:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.2) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.2) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.2) lib/active_support/callbacks.rb:776:in `_run_call_callbacks'
  activesupport (4.2.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.2) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/rebeccaappleyard1984/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/rebeccaappleyard1984/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/rebeccaappleyard1984/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (2.2ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.1ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (79.1ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (59.8ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (135.7ms)
  [1m[36m (23.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (1.9ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateRestaurants (20150901154317)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (31.8ms)[0m  [1mCREATE TABLE "restaurants" ("id" serial primary key, "name" character varying, "rating" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35mSQL (6.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150901154317"]]
  [1m[36m (6.2ms)[0m  [1mCOMMIT[0m
Migrating to AddDescriptionToRestaurants (20150902101126)
  [1m[35m (6.1ms)[0m  BEGIN
  [1m[36m (6.0ms)[0m  [1mALTER TABLE "restaurants" ADD "description" text[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150902101126"]]
  [1m[36m (5.4ms)[0m  [1mCOMMIT[0m
Migrating to CreateReviews (20150902130313)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (14.2ms)[0m  [1mCREATE TABLE "reviews" ("id" serial primary key, "thoughts" text, "rating" integer, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150902130313"]]
  [1m[36m (5.8ms)[0m  [1mCOMMIT[0m
Migrating to AddRestaurantIdToReviews (20150902131257)
  [1m[35m (6.0ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mALTER TABLE "reviews" ADD "restaurant_id" integer[0m
  [1m[35m (6.3ms)[0m  CREATE  INDEX  "index_reviews_on_restaurant_id" ON "reviews"  ("restaurant_id")
  [1m[36m (14.7ms)[0m  [1mALTER TABLE "reviews" ADD CONSTRAINT "fk_rails_8173017a90"
FOREIGN KEY ("restaurant_id")
  REFERENCES "restaurants" ("id")
[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150902131257"]]
  [1m[36m (0.4ms)[0m  [1mCOMMIT[0m
Migrating to DeviseCreateUsers (20150902172116)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (19.5ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "sign_in_count" integer DEFAULT 0 NOT NULL, "current_sign_in_at" timestamp, "last_sign_in_at" timestamp, "current_sign_in_ip" inet, "last_sign_in_ip" inet, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (2.1ms)[0m  CREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")
  [1m[36m (1.1ms)[0m  [1mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150902172116"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m
Migrating to AddOmniauthToUsers (20150903091713)
  [1m[35m (6.5ms)[0m  BEGIN
  [1m[36m (1.3ms)[0m  [1mALTER TABLE "users" ADD "provider" character varying[0m
  [1m[35m (7.4ms)[0m  CREATE  INDEX  "index_users_on_provider" ON "users"  ("provider")
  [1m[36m (0.3ms)[0m  [1mALTER TABLE "users" ADD "uid" character varying[0m
  [1m[35m (21.3ms)[0m  CREATE  INDEX  "index_users_on_uid" ON "users"  ("uid")
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20150903091713"]]
  [1m[35m (0.6ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (8.5ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'restaurants'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (3.1ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reviews'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (3.0ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname



Started GET "/" for ::1 at 2015-09-03 11:56:40 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "restaurants"
  Rendered restaurants/index.html.haml within layouts/application (6.2ms)
Completed 200 OK in 1447ms (Views: 1431.1ms | ActiveRecord: 1.0ms)


Started GET "/assets/restaurants.self-800f43eb8f4b5652f3c5017ffda37c0e74079c8ff8052960fb67d209b6cd4a1d.css?body=1" for ::1 at 2015-09-03 11:56:42 +0100


Started GET "/assets/jquery_ujs.self-d456baa54c1fa6be2ec3711f0a72ddf7a5b2f34a6b4f515f33767d6207b7d4b3.js?body=1" for ::1 at 2015-09-03 11:56:42 +0100


Started GET "/assets/turbolinks.self-c37727e9bd6b2735da5c311aa83fead54ed0be6cc8bd9a65309e9c5abe2cbfff.js?body=1" for ::1 at 2015-09-03 11:56:42 +0100


Started GET "/assets/restaurants.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-09-03 11:56:42 +0100


Started GET "/assets/application.self-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css?body=1" for ::1 at 2015-09-03 11:56:42 +0100


Started GET "/assets/jquery.self-a714331225dda820228db323939889f149aec0127aeb06255646b616ba1ca419.js?body=1" for ::1 at 2015-09-03 11:56:42 +0100


Started GET "/assets/reviews.self-e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855.css?body=1" for ::1 at 2015-09-03 11:56:42 +0100


Started GET "/assets/reviews.self-877aef30ae1b040ab8a3aba4e3e309a11d7f2612f44dde450b5c157aa5f95c05.js?body=1" for ::1 at 2015-09-03 11:56:42 +0100


Started GET "/assets/application.self-3b8dabdc891efe46b9a144b400ad69e37d7e5876bdc39dee783419a69d7ca819.js?body=1" for ::1 at 2015-09-03 11:56:42 +0100


Started GET "/users/auth/facebook" for ::1 at 2015-09-03 11:56:44 +0100


Started GET "/users/auth/facebook" for ::1 at 2015-09-03 11:56:44 +0100


Started GET "/users/auth/facebook/callback?error_code=4201&error_message=User+canceled+the+Dialog+flow&state=773f8b09a609215ebae2a9d9822631ff365f05d635d1e99a" for ::1 at 2015-09-03 11:57:11 +0100
Processing by Users::OmniauthCallbacksController#failure as HTML
  Parameters: {"error_code"=>"4201", "error_message"=>"User canceled the Dialog flow", "state"=>"773f8b09a609215ebae2a9d9822631ff365f05d635d1e99a"}
Redirected to http://localhost:3000/users/sign_in
Completed 302 Found in 47ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2015-09-03 11:57:11 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/shared/_links.html.erb (2.2ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/sessions/new.html.erb within layouts/application (27.5ms)
Completed 200 OK in 145ms (Views: 103.9ms | ActiveRecord: 4.6ms)


Started GET "/" for ::1 at 2015-09-03 12:14:10 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "restaurants"
  Rendered restaurants/index.html.haml within layouts/application (6.1ms)
Completed 200 OK in 357ms (Views: 335.4ms | ActiveRecord: 1.1ms)


Started GET "/users/sign_up" for ::1 at 2015-09-03 12:14:15 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/shared/_links.html.erb (1.2ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/registrations/new.html.erb within layouts/application (28.3ms)
Completed 200 OK in 87ms (Views: 75.8ms | ActiveRecord: 2.1ms)
  [1m[36mActiveRecord::SchemaMigration Load (7.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddUserIdToRestaurants (20150903123954)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (3.0ms)[0m  [1mALTER TABLE "restaurants" ADD "user_id" integer[0m
  [1m[35m (7.6ms)[0m  CREATE  INDEX  "index_restaurants_on_user_id" ON "restaurants"  ("user_id")
  [1m[36m (9.8ms)[0m  [1mALTER TABLE "restaurants" ADD CONSTRAINT "fk_rails_aef57e41ec"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150903123954"]]
  [1m[36m (12.3ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (3.3ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'restaurants'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (2.0ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reviews'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (2.9ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m


Started GET "/" for ::1 at 2015-09-03 14:07:44 +0100
  [1m[36mActiveRecord::SchemaMigration Load (10.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#index as HTML
  [1m[35m (2.9ms)[0m  SELECT COUNT(*) FROM "restaurants"
  Rendered restaurants/index.html.haml within layouts/application (12.6ms)
Completed 200 OK in 348ms (Views: 317.2ms | ActiveRecord: 3.9ms)


Started GET "/assets/restaurants.self-800f43eb8f4b5652f3c5017ffda37c0e74079c8ff8052960fb67d209b6cd4a1d.css?body=1" for ::1 at 2015-09-03 14:07:45 +0100


Started GET "/users/sign_in" for ::1 at 2015-09-03 14:07:49 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/shared/_links.html.erb (1.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/sessions/new.html.erb within layouts/application (36.4ms)
Completed 200 OK in 145ms (Views: 106.9ms | ActiveRecord: 17.8ms)


Started POST "/users/sign_in" for ::1 at 2015-09-03 14:07:58 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"z87NTt641Sd0ZrZpWju+hnQPu8D2P82PI2eE3TBqoOSEZpdBPTErarMmp1VhlOYDE/JKplAmxGqIar24GVTHGQ==", "user"=>{"email"=>"bex@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (3.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "bex@test.com"]]
Completed 401 Unauthorized in 25ms (ActiveRecord: 3.5ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"z87NTt641Sd0ZrZpWju+hnQPu8D2P82PI2eE3TBqoOSEZpdBPTErarMmp1VhlOYDE/JKplAmxGqIar24GVTHGQ==", "user"=>{"email"=>"bex@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/sessions/new.html.erb within layouts/application (5.5ms)
Completed 200 OK in 204ms (Views: 105.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for ::1 at 2015-09-03 14:08:04 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"v47UpVET97JEQVazy2Wpl/uWSyMuveOEhl5lBt1+niH0Jo6qspoJ/4MBR4/wyvESnGu6RYik6mEtU1xj9ED53A==", "user"=>{"email"=>"bex@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["email", "bex@test.com"]]
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.4ms)
Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"v47UpVET97JEQVazy2Wpl/uWSyMuveOEhl5lBt1+niH0Jo6qspoJ/4MBR4/wyvESnGu6RYik6mEtU1xj9ED53A==", "user"=>{"email"=>"bex@test.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/shared/_links.html.erb (0.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/sessions/new.html.erb within layouts/application (5.5ms)
Completed 200 OK in 187ms (Views: 109.4ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for ::1 at 2015-09-03 14:08:07 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/registrations/new.html.erb within layouts/application (7.8ms)
Completed 200 OK in 87ms (Views: 81.9ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2015-09-03 14:08:20 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"X/nEzNRWEYfZtZwPpkEZqc60jWdlTXiZaUubIbTHLg0UUZ7DN9/vyh71jTOd7kEsqUl8AcNUcXzCRqJEnflJ8A==", "user"=>{"email"=>"bex@bex.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.7ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'bex@bex.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "bex@bex.com"], ["encrypted_password", "$2a$10$fuQwzD8FR5FAlg7JK95pbusIDFi1OiGVVqY96IblCGF0Bci95ihGO"], ["created_at", "2015-09-03 13:08:20.606684"], ["updated_at", "2015-09-03 13:08:20.606684"]]
  [1m[35m (11.7ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (5.4ms)[0m  UPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7  [["last_sign_in_at", "2015-09-03 13:08:20.621802"], ["current_sign_in_at", "2015-09-03 13:08:20.621802"], ["last_sign_in_ip", "::1/128"], ["current_sign_in_ip", "::1/128"], ["sign_in_count", 1], ["updated_at", "2015-09-03 13:08:20.623783"], ["id", 1]]
  [1m[36m (3.2ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 147ms (ActiveRecord: 22.4ms)


Started GET "/" for ::1 at 2015-09-03 14:08:20 +0100
Processing by RestaurantsController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mUser Load (6.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered restaurants/index.html.haml within layouts/application (10.0ms)
Completed 200 OK in 124ms (Views: 116.4ms | ActiveRecord: 6.7ms)


Started GET "/restaurants/new" for ::1 at 2015-09-03 14:08:39 +0100
Processing by RestaurantsController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", nil]]
Completed 404 Not Found in 14ms (ActiveRecord: 0.5ms)

ActiveRecord::RecordNotFound (Couldn't find User with 'id'=):
  app/controllers/restaurants_controller.rb:10:in `new'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.8ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.8ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (94.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (68.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (163.2ms)


Started GET "/restaurants/new" for ::1 at 2015-09-03 14:08:39 +0100
Processing by RestaurantsController#new as HTML
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", nil]]
Completed 404 Not Found in 9ms (ActiveRecord: 2.3ms)

ActiveRecord::RecordNotFound (Couldn't find User with 'id'=):
  app/controllers/restaurants_controller.rb:10:in `new'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.9ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (105.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (1.0ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (71.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (170.4ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (3.5ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'restaurants'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (3.0ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reviews'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (2.1ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m


Started GET "/" for ::1 at 2015-09-03 14:27:55 +0100
  [1m[36mActiveRecord::SchemaMigration Load (6.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#index as HTML
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered restaurants/index.html.haml within layouts/application (52.7ms)
Completed 500 Internal Server Error in 110ms (ActiveRecord: 11.7ms)

ActionView::Template::Error (No route matches {:action=>"new", :controller=>"restaurants"} missing required keys: [:user_id]):
    24:   No restaurants yet!
    25: 
    26: - if current_user
    27:   %a(href= new_user_restaurants_path ) Add a restaurant
  app/views/restaurants/index.html.haml:27:in `_app_views_restaurants_index_html_haml___245872974799861145_70174992662760'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (12.2ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.9ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (121.6ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (110.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (233.7ms)


Started GET "/" for ::1 at 2015-09-03 14:28:34 +0100
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#index as HTML
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered restaurants/index.html.haml within layouts/application (34.0ms)
Completed 200 OK in 356ms (Views: 325.3ms | ActiveRecord: 6.3ms)


Started GET "/restaurants/new" for ::1 at 2015-09-03 14:28:41 +0100
Processing by RestaurantsController#new as HTML
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", nil]]
Completed 404 Not Found in 21ms (ActiveRecord: 0.7ms)

ActiveRecord::RecordNotFound (Couldn't find User with 'id'=):
  app/controllers/restaurants_controller.rb:10:in `new'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.6ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (73.0ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (85.8ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (161.9ms)


Started GET "/restaurants/new" for ::1 at 2015-09-03 14:28:42 +0100
Processing by RestaurantsController#new as HTML
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", nil]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.6ms)

ActiveRecord::RecordNotFound (Couldn't find User with 'id'=):
  app/controllers/restaurants_controller.rb:10:in `new'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (11.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (4.6ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (4.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (148.2ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (1.0ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (84.8ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (203.1ms)


Started GET "/restaurants/new" for ::1 at 2015-09-03 14:40:29 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#new as HTML
  [1m[35mUser Load (1.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", nil]]
Completed 404 Not Found in 58ms (ActiveRecord: 7.4ms)

ActiveRecord::RecordNotFound (Couldn't find User with 'id'=):
  app/controllers/restaurants_controller.rb:10:in `new'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.0ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (101.2ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (67.8ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (181.0ms)


Started GET "/" for ::1 at 2015-09-03 14:40:32 +0100
Processing by RestaurantsController#index as HTML
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  Rendered restaurants/index.html.haml within layouts/application (18.3ms)
Completed 200 OK in 351ms (Views: 339.0ms | ActiveRecord: 3.2ms)


Started GET "/restaurants/new" for ::1 at 2015-09-03 14:40:34 +0100
Processing by RestaurantsController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", nil]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.4ms)

ActiveRecord::RecordNotFound (Couldn't find User with 'id'=):
  app/controllers/restaurants_controller.rb:10:in `new'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.9ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.9ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (75.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (54.2ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (136.3ms)


Started GET "/restaurants/new" for ::1 at 2015-09-03 14:40:35 +0100
Processing by RestaurantsController#new as HTML
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", nil]]
Completed 404 Not Found in 4ms (ActiveRecord: 0.5ms)

ActiveRecord::RecordNotFound (Couldn't find User with 'id'=):
  app/controllers/restaurants_controller.rb:10:in `new'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (8.1ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (13.2ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (104.8ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.6ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (1.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (63.0ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.2ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.6ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (150.7ms)


Started GET "/" for ::1 at 2015-09-03 14:57:03 +0100
  [1m[36mActiveRecord::SchemaMigration Load (5.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#index as HTML
  [1m[35m (1.4ms)[0m  SELECT COUNT(*) FROM "restaurants"
  Rendered restaurants/index.html.haml within layouts/application (23.2ms)
Completed 200 OK in 311ms (Views: 280.8ms | ActiveRecord: 4.0ms)


Started GET "/users/sign_in" for ::1 at 2015-09-03 14:57:05 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/shared/_links.html.erb (1.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/sessions/new.html.erb within layouts/application (29.9ms)
Completed 200 OK in 97ms (Views: 70.3ms | ActiveRecord: 8.7ms)


Started POST "/users/sign_in" for ::1 at 2015-09-03 14:57:14 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6kCkbaYCb4cOyqwrf2DrM3iiLzlFbFhT3iUunPNyeUu1n27Ig9Hz074Uh7hsgPgEBsxdZbnvZ1QiNZHVuGGhWQ==", "user"=>{"email"=>"bex@bex.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (3.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "bex@bex.com"]]
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "current_sign_in_at" = $1, "sign_in_count" = $2, "updated_at" = $3 WHERE "users"."id" = $4[0m  [["current_sign_in_at", "2015-09-03 13:57:14.145838"], ["sign_in_count", 2], ["updated_at", "2015-09-03 13:57:14.148156"], ["id", 1]]
  [1m[35m (0.4ms)[0m  COMMIT
Redirected to http://localhost:3000/
Completed 302 Found in 114ms (ActiveRecord: 4.6ms)


Started GET "/" for ::1 at 2015-09-03 14:57:14 +0100
Processing by RestaurantsController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  Rendered restaurants/index.html.haml within layouts/application (2.7ms)
Completed 200 OK in 99ms (Views: 97.6ms | ActiveRecord: 0.5ms)


Started GET "/users/1/restaurants/new" for ::1 at 2015-09-03 14:57:17 +0100
Processing by RestaurantsController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered restaurants/new.html.haml within layouts/application (3.8ms)
Completed 200 OK in 78ms (Views: 62.8ms | ActiveRecord: 1.6ms)


Started POST "/restaurants" for ::1 at 2015-09-03 14:57:21 +0100
Processing by RestaurantsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"rvx98nsi610/oTiH58YHwOr7nYDI+1EIVCPjr3q37SKF9nt1NfxPaTXu1XxDOMG++y2ePEIF+AqAIOqWUTio4g==", "restaurant"=>{"name"=>"Trade"}, "commit"=>"Create Restaurant"}
  [1m[36mUser Load (0.7ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mRestaurant Exists (0.2ms)[0m  SELECT  1 AS one FROM "restaurants" WHERE "restaurants"."name" = 'Trade' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "restaurants" ("name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Trade"], ["user_id", 1], ["created_at", "2015-09-03 13:57:21.774704"], ["updated_at", "2015-09-03 13:57:21.774704"]]
  [1m[35m (6.0ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mRestaurant Exists (1.0ms)[0m  SELECT  1 AS one FROM "restaurants" WHERE ("restaurants"."name" = 'Trade' AND "restaurants"."id" != 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/restaurants
Completed 302 Found in 58ms (ActiveRecord: 9.6ms)


Started GET "/restaurants" for ::1 at 2015-09-03 14:57:21 +0100
Processing by RestaurantsController#index as HTML
  [1m[35m (0.2ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.2ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mReview Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 1]]
  Rendered restaurants/index.html.haml within layouts/application (15.8ms)
Completed 200 OK in 78ms (Views: 74.4ms | ActiveRecord: 2.4ms)


Started DELETE "/users/sign_out" for ::1 at 2015-09-03 14:57:28 +0100
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"PzCuD+GeLk7S7E+FZtD643PuHLSgFHmzBLLy4EOGJQkUOqiIr0CKetijon7CLjydYjgfCCrq0LHQsfvZaAlgyQ=="}
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
Redirected to http://localhost:3000/
Completed 302 Found in 10ms (ActiveRecord: 1.3ms)


Started GET "/" for ::1 at 2015-09-03 14:57:28 +0100
Processing by RestaurantsController#index as HTML
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[35mRestaurant Load (0.3ms)[0m  SELECT "restaurants".* FROM "restaurants"
  [1m[36mReview Exists (1.2ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 1]]
  Rendered restaurants/index.html.haml within layouts/application (8.6ms)
Completed 200 OK in 98ms (Views: 94.6ms | ActiveRecord: 2.5ms)


Started DELETE "/restaurants/1" for ::1 at 2015-09-03 14:57:41 +0100
Processing by RestaurantsController#destroy as HTML
  Parameters: {"authenticity_token"=>"rmZIc8yUxy4q1HGBrCMjena8o/4wM9TUKuA3ewkuIxhrW+bo54WwAoUycgJdUPVtvJowDrFO1diuokSrfrxBxQ==", "id"=>"1"}
Completed 401 Unauthorized in 1ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2015-09-03 14:57:41 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/sessions/new.html.erb within layouts/application (5.0ms)
Completed 200 OK in 77ms (Views: 75.7ms | ActiveRecord: 0.0ms)


Started GET "/restaurants/1/reviews/new" for ::1 at 2015-09-03 14:57:53 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[35mRestaurant Load (0.2ms)[0m  SELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered reviews/new.html.haml within layouts/application (7.4ms)
Completed 200 OK in 59ms (Views: 50.9ms | ActiveRecord: 0.6ms)


Started DELETE "/restaurants/1" for ::1 at 2015-09-03 15:00:16 +0100
Processing by RestaurantsController#destroy as HTML
  Parameters: {"authenticity_token"=>"+CVVEz9EagIUF1XlRMBTM/JZju820CFoxxVU5UAJ5vU9GPuIFFUdLrvxVma1s4UkOH8dH7etIGRDVyc1N5uEKA==", "id"=>"1"}
Completed 401 Unauthorized in 3ms (ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for ::1 at 2015-09-03 15:00:16 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/shared/_links.html.erb (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/sessions/new.html.erb within layouts/application (5.2ms)
Completed 200 OK in 64ms (Views: 62.6ms | ActiveRecord: 0.0ms)


Started GET "/" for ::1 at 2015-09-04 09:18:58 +0100
  [1m[36mActiveRecord::SchemaMigration Load (7.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m

ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

	bin/rake db:migrate RAILS_ENV=development

):
  activerecord (4.2.2) lib/active_record/migration.rb:393:in `check_pending!'
  activerecord (4.2.2) lib/active_record/migration.rb:374:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:29:in `block in call'
  activesupport (4.2.2) lib/active_support/callbacks.rb:88:in `call'
  activesupport (4.2.2) lib/active_support/callbacks.rb:88:in `_run_callbacks'
  activesupport (4.2.2) lib/active_support/callbacks.rb:776:in `_run_call_callbacks'
  activesupport (4.2.2) lib/active_support/callbacks.rb:81:in `run_callbacks'
  actionpack (4.2.2) lib/action_dispatch/middleware/callbacks.rb:27:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/reloader.rb:73:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/remote_ip.rb:78:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:17:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.2) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/rebeccaappleyard1984/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/rebeccaappleyard1984/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/rebeccaappleyard1984/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (3.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (87.0ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (62.9ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (159.0ms)
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to AddUserIdToReviews (20150903153545)
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.8ms)[0m  [1mALTER TABLE "reviews" ADD "user_id" integer[0m
  [1m[35m (13.1ms)[0m  CREATE  INDEX  "index_reviews_on_user_id" ON "reviews"  ("user_id")
  [1m[36m (7.9ms)[0m  [1mALTER TABLE "reviews" ADD CONSTRAINT "fk_rails_74a66bd6c5"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35mSQL (16.7ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150903153545"]]
  [1m[36m (5.5ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.2ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (4.1ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'restaurants'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m
  [1m[35m (3.3ms)[0m  SELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'reviews'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname

  [1m[36m (1.9ms)[0m  [1mSELECT t2.oid::regclass::text AS to_table, a1.attname AS column, a2.attname AS primary_key, c.conname AS name, c.confupdtype AS on_update, c.confdeltype AS on_delete
FROM pg_constraint c
JOIN pg_class t1 ON c.conrelid = t1.oid
JOIN pg_class t2 ON c.confrelid = t2.oid
JOIN pg_attribute a1 ON a1.attnum = c.conkey[1] AND a1.attrelid = t1.oid
JOIN pg_attribute a2 ON a2.attnum = c.confkey[1] AND a2.attrelid = t2.oid
JOIN pg_namespace t3 ON c.connamespace = t3.oid
WHERE c.contype = 'f'
  AND t1.relname = 'users'
  AND t3.nspname = ANY (current_schemas(false))
ORDER BY c.conname
[0m


Started GET "/" for ::1 at 2015-09-04 09:19:41 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#index as HTML
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.2ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  Rendered restaurants/index.html.haml within layouts/application (25.0ms)
Completed 500 Internal Server Error in 59ms (ActiveRecord: 3.3ms)

ActionView::Template::Error (undefined method `has_reviewed?' for nil:NilClass):
     5:     -if current_user && current_user.id == restaurant.user_id
     6:       %h4= link_to "Edit #{restaurant.name}", edit_restaurant_path(restaurant)
     7:       %h4= link_to "Delete #{restaurant.name}", restaurant_path(restaurant), method: :delete
     8:     -if !current_user.has_reviewed? restaurant
     9:       %h4= link_to "Review #{restaurant.name}", new_restaurant_reviews_path(restaurant)
    10:     %h3
    11:       Review for
  app/views/restaurants/index.html.haml:8:in `block in _app_views_restaurants_index_html_haml__2474245273465750266_70162445279700'
  app/views/restaurants/index.html.haml:2:in `_app_views_restaurants_index_html_haml__2474245273465750266_70162445279700'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.8ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.6ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (76.0ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (63.0ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (147.8ms)


Started GET "/" for ::1 at 2015-09-04 09:20:13 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#index as HTML
  Rendered restaurants/index.html.haml within layouts/application (3.1ms)
Completed 500 Internal Server Error in 32ms (ActiveRecord: 0.0ms)

SyntaxError (/Users/rebeccaappleyard1984/Dropbox/Makers/Course/Week_7/yelp_tuesday/app/views/restaurants/index.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting keyword_then or ';' or '\n'
/Users/rebeccaappleyard1984/Dropbox/Makers/Course/Week_7/yelp_tuesday/app/views/restaurants/index.html.haml:29: syntax error, unexpected keyword_ensure, expecting end-of-input):
  app/views/restaurants/index.html.haml:8: syntax error, unexpected tIDENTIFIER, expecting keyword_then or ';' or '\n'
  app/views/restaurants/index.html.haml:29: syntax error, unexpected keyword_ensure, expecting end-of-input


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (6.2ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (3.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (93.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (59.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (139.6ms)


Started GET "/" for ::1 at 2015-09-04 09:24:33 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#index as HTML
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.2ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mReview Exists (0.4ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 1]]
  Rendered restaurants/index.html.haml within layouts/application (69.4ms)
Completed 200 OK in 460ms (Views: 427.1ms | ActiveRecord: 4.4ms)


Started GET "/users/sign_in" for ::1 at 2015-09-04 09:27:18 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/shared/_links.html.erb (2.6ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/sessions/new.html.erb within layouts/application (35.0ms)
Completed 200 OK in 134ms (Views: 112.6ms | ActiveRecord: 1.8ms)


Started POST "/users/sign_in" for ::1 at 2015-09-04 09:27:27 +0100
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"H7Bf++Gr55+e8WuwsnFbc/LJbnfhWBySHa6Q0fkHkkTajfFgyrqQszEXaDNDAo1kOO/9h2AlHZ6Z7OMBjpXwmQ==", "user"=>{"email"=>"bex@bex.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."email" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["email", "bex@bex.com"]]
  [1m[35m (0.5ms)[0m  BEGIN
  [1m[36mSQL (2.9ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "sign_in_count" = $3, "updated_at" = $4 WHERE "users"."id" = $5[0m  [["last_sign_in_at", "2015-09-03 13:57:14.145838"], ["current_sign_in_at", "2015-09-04 08:27:27.203467"], ["sign_in_count", 3], ["updated_at", "2015-09-04 08:27:27.206848"], ["id", 1]]
  [1m[35m (0.7ms)[0m  COMMIT
Redirected to http://localhost:3000/
Completed 302 Found in 138ms (ActiveRecord: 6.1ms)


Started GET "/" for ::1 at 2015-09-04 09:27:27 +0100
Processing by RestaurantsController#index as HTML
  [1m[36m (0.5ms)[0m  [1mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[35mRestaurant Load (0.3ms)[0m  SELECT "restaurants".* FROM "restaurants"
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mReview Exists (0.3ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 1]]
  Rendered restaurants/index.html.haml within layouts/application (13.9ms)
Completed 200 OK in 117ms (Views: 113.9ms | ActiveRecord: 1.8ms)


Started GET "/restaurants/1/reviews/new" for ::1 at 2015-09-04 09:27:29 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered reviews/new.html.haml within layouts/application (7.6ms)
  [1m[35mUser Load (5.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
Completed 200 OK in 160ms (Views: 146.2ms | ActiveRecord: 5.9ms)


Started POST "/restaurants/1/reviews" for ::1 at 2015-09-04 09:27:36 +0100
Processing by ReviewsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Qfj1c9N/gcYZ36O5cEJsowjNbGZmi/Rkj339tbBjvTd9YWTq8QL246kYM6ObS7FaCgZv2mcM1evrS02AXCYeWA==", "review"=>{"thoughts"=>"nice brownies", "rating"=>"4"}, "commit"=>"Leave Review", "restaurant_id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mReview Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE ("reviews"."user_id" = 1 AND "reviews"."restaurant_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.8ms)[0m  INSERT INTO "reviews" ("thoughts", "rating", "user_id", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["thoughts", "nice brownies"], ["rating", 4], ["user_id", 1], ["restaurant_id", 1], ["created_at", "2015-09-04 08:27:36.911595"], ["updated_at", "2015-09-04 08:27:36.911595"]]
  [1m[36m (5.8ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/restaurants
Completed 302 Found in 24ms (ActiveRecord: 7.8ms)


Started GET "/restaurants" for ::1 at 2015-09-04 09:27:36 +0100
Processing by RestaurantsController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.3ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mReview Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 1]]
  [1m[35mReview Load (0.2ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  Rendered restaurants/index.html.haml within layouts/application (8.1ms)
Completed 200 OK in 63ms (Views: 60.8ms | ActiveRecord: 1.4ms)


Started GET "/users/1/restaurants/new" for ::1 at 2015-09-04 09:27:39 +0100
Processing by RestaurantsController#new as HTML
  Parameters: {"user_id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered restaurants/new.html.haml within layouts/application (10.9ms)
Completed 200 OK in 85ms (Views: 78.7ms | ActiveRecord: 0.7ms)


Started POST "/restaurants" for ::1 at 2015-09-04 09:27:45 +0100
Processing by RestaurantsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"4RYmBDAj5JV6sfsOtEYh6hbEOxo6zAGCU+woVn2xAsDdj7edEl6TsMp2axRfT/wTFA84pjtLIA032phjkfShrw==", "restaurant"=>{"name"=>"Japanese Canteen"}, "commit"=>"Create Restaurant"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mRestaurant Exists (0.3ms)[0m  SELECT  1 AS one FROM "restaurants" WHERE "restaurants"."name" = 'Japanese Canteen' LIMIT 1
  [1m[36mSQL (6.6ms)[0m  [1mINSERT INTO "restaurants" ("name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Japanese Canteen"], ["user_id", 1], ["created_at", "2015-09-04 08:27:45.610490"], ["updated_at", "2015-09-04 08:27:45.610490"]]
  [1m[35m (0.4ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mRestaurant Exists (0.3ms)[0m  SELECT  1 AS one FROM "restaurants" WHERE ("restaurants"."name" = 'Japanese Canteen' AND "restaurants"."id" != 2) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/restaurants
Completed 302 Found in 23ms (ActiveRecord: 8.5ms)


Started GET "/restaurants" for ::1 at 2015-09-04 09:27:45 +0100
Processing by RestaurantsController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.2ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mReview Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 1]]
  [1m[35mReview Load (0.2ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  [1m[36mReview Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 2]]
  Rendered restaurants/index.html.haml within layouts/application (9.8ms)
Completed 200 OK in 59ms (Views: 56.2ms | ActiveRecord: 1.8ms)


Started GET "/restaurants/2/reviews/new" for ::1 at 2015-09-04 09:27:48 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"restaurant_id"=>"2"}
  [1m[35mRestaurant Load (0.2ms)[0m  SELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered reviews/new.html.haml within layouts/application (2.9ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
Completed 200 OK in 71ms (Views: 69.1ms | ActiveRecord: 0.5ms)


Started POST "/restaurants/2/reviews" for ::1 at 2015-09-04 09:27:56 +0100
Processing by ReviewsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tZIkrvYJaLkI/v+uaFEAJ+pAOoGhQWq2zSGgD+26U/+JC7U31HQfnLg5b7SDWN3e6Is5PaDGSzmpFxA6Af/wkA==", "review"=>{"thoughts"=>"Good bibimbap", "rating"=>"3"}, "commit"=>"Leave Review", "restaurant_id"=>"2"}
  [1m[35mRestaurant Load (0.4ms)[0m  SELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mReview Exists (1.0ms)[0m  SELECT  1 AS one FROM "reviews" WHERE ("reviews"."user_id" = 1 AND "reviews"."restaurant_id" = 2) LIMIT 1
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "reviews" ("thoughts", "rating", "user_id", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["thoughts", "Good bibimbap"], ["rating", 3], ["user_id", 1], ["restaurant_id", 2], ["created_at", "2015-09-04 08:27:56.952544"], ["updated_at", "2015-09-04 08:27:56.952544"]]
  [1m[35m (0.4ms)[0m  COMMIT
Redirected to http://localhost:3000/restaurants
Completed 302 Found in 17ms (ActiveRecord: 3.5ms)


Started GET "/restaurants" for ::1 at 2015-09-04 09:27:56 +0100
Processing by RestaurantsController#index as HTML
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[35mRestaurant Load (0.5ms)[0m  SELECT "restaurants".* FROM "restaurants"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mReview Exists (0.3ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 1]]
  [1m[36mReview Load (1.7ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35mReview Exists (1.3ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 2]]
  [1m[36mReview Load (0.3ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  Rendered restaurants/index.html.haml within layouts/application (13.3ms)
Completed 200 OK in 78ms (Views: 71.9ms | ActiveRecord: 4.8ms)


Started GET "/" for ::1 at 2015-09-04 09:56:53 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#index as HTML
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.4ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mUser Load (2.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mReview Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 1]]
  [1m[35mReview Load (0.3ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  [1m[36mReview Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 2]]
  [1m[35mReview Load (0.2ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  Rendered restaurants/index.html.haml within layouts/application (145.1ms)
Completed 200 OK in 425ms (Views: 389.0ms | ActiveRecord: 15.2ms)


Started DELETE "/users/sign_out" for ::1 at 2015-09-04 09:56:58 +0100
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"t8/feU0MOMVYHryIfrnOPP6VhYwSqi78ej71NCKs63iLVk7gb3FP4OjZLJKVsBPF/F6GMBMtD3MeCEUBzulIFw=="}
  [1m[36mUser Load (0.6ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/
Completed 302 Found in 23ms (ActiveRecord: 0.9ms)


Started GET "/" for ::1 at 2015-09-04 09:56:58 +0100
Processing by RestaurantsController#index as HTML
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.5ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mReview Exists (0.3ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 1]]
  [1m[36mReview Load (0.3ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35mReview Exists (0.2ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 2]]
  [1m[36mReview Load (0.2ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  Rendered restaurants/index.html.haml within layouts/application (12.4ms)
Completed 200 OK in 83ms (Views: 80.1ms | ActiveRecord: 2.0ms)


Started GET "/users/sign_in" for ::1 at 2015-09-04 09:57:01 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/shared/_links.html.erb (1.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/sessions/new.html.erb within layouts/application (47.2ms)
Completed 200 OK in 107ms (Views: 104.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for ::1 at 2015-09-04 09:57:04 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/shared/_links.html.erb (0.8ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/registrations/new.html.erb within layouts/application (8.8ms)
Completed 200 OK in 81ms (Views: 80.2ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2015-09-04 09:57:14 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"01MUcSOdQR9Sx9GtFlm/QKK7MVEOpj8nBh78VGlLdhtgkDosQoJgAweNqUYLyVAW7A00OKX+3o1m05rfoEBSvQ==", "user"=>{"email"=>"test2@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test2@test.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "test2@test.com"], ["encrypted_password", "$2a$10$rpQRFaT9Dzi08Q4SOnMDtu4SXK5hDDbhwqp8XLWYV8xye7h.dwVl6"], ["created_at", "2015-09-04 08:57:15.007355"], ["updated_at", "2015-09-04 08:57:15.007355"]]
  [1m[36m (0.8ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-09-04 08:57:15.010951"], ["current_sign_in_at", "2015-09-04 08:57:15.010951"], ["last_sign_in_ip", "::1/128"], ["current_sign_in_ip", "::1/128"], ["sign_in_count", 1], ["updated_at", "2015-09-04 08:57:15.011906"], ["id", 2]]
  [1m[35m (0.6ms)[0m  COMMIT
Redirected to http://localhost:3000/
Completed 302 Found in 114ms (ActiveRecord: 3.0ms)


Started GET "/" for ::1 at 2015-09-04 09:57:15 +0100
Processing by RestaurantsController#index as HTML
  [1m[36m (0.6ms)[0m  [1mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[35mRestaurant Load (0.2ms)[0m  SELECT "restaurants".* FROM "restaurants"
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mReview Exists (0.3ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 1]]
  [1m[36mReview Load (0.3ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35mReview Exists (0.3ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 2]]
  [1m[36mReview Load (0.2ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  Rendered restaurants/index.html.haml within layouts/application (12.9ms)
Completed 200 OK in 110ms (Views: 106.6ms | ActiveRecord: 2.2ms)


Started GET "/restaurants/1/edit" for ::1 at 2015-09-04 09:57:30 +0100
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mRestaurant Load (0.7ms)[0m  [1mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered restaurants/edit.html.haml within layouts/application (6.8ms)
Completed 200 OK in 88ms (Views: 80.2ms | ActiveRecord: 1.1ms)


Started PATCH "/restaurants/1" for ::1 at 2015-09-04 09:58:18 +0100
Processing by RestaurantsController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"YG8J5x7jQ89AqHBD+ZFX+6J+oygE/cM74Q2WIahE7A/TrCe6f/xi0xXiCKjkAbit7MimQa+lIpGBwPCqYU/IqQ==", "restaurant"=>{"name"=>"Trademade"}, "commit"=>"Update Restaurant", "id"=>"1"}
  [1m[35mUser Load (1.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mRestaurant Load (0.3ms)[0m  [1mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mRestaurant Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "restaurants" WHERE ("restaurants"."name" = 'Trademade' AND "restaurants"."id" != 1) LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "restaurants" SET "name" = $1, "updated_at" = $2 WHERE "restaurants"."id" = $3  [["name", "Trademade"], ["updated_at", "2015-09-04 08:58:18.910311"], ["id", 1]]
  [1m[36m (5.7ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/restaurants
Completed 302 Found in 16ms (ActiveRecord: 8.3ms)


Started GET "/restaurants" for ::1 at 2015-09-04 09:58:18 +0100
Processing by RestaurantsController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.2ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mReview Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 2]]
  [1m[35mReview Load (0.1ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36mReview Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 1]]
  [1m[35mReview Load (0.1ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  Rendered restaurants/index.html.haml within layouts/application (7.3ms)
Completed 200 OK in 78ms (Views: 76.4ms | ActiveRecord: 1.2ms)


Started GET "/users/2/restaurants/new" for ::1 at 2015-09-04 09:59:41 +0100
Processing by RestaurantsController#new as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered restaurants/new.html.haml within layouts/application (3.9ms)
Completed 200 OK in 61ms (Views: 56.0ms | ActiveRecord: 0.7ms)


Started GET "/" for ::1 at 2015-09-04 10:02:29 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#index as HTML
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.2ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mUser Load (0.8ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mReview Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 2]]
  [1m[35mReview Load (0.3ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36mReview Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 1]]
  [1m[35mReview Load (0.3ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  Rendered restaurants/index.html.haml within layouts/application (125.5ms)
Completed 200 OK in 395ms (Views: 369.1ms | ActiveRecord: 11.8ms)


Started GET "/restaurants/1/edit" for ::1 at 2015-09-04 10:02:40 +0100
Processing by RestaurantsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mRestaurant Load (0.2ms)[0m  SELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1  [["id", 1]]
Redirected to http://localhost:3000/restaurants
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)


Started GET "/restaurants" for ::1 at 2015-09-04 10:02:40 +0100
Processing by RestaurantsController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[35mRestaurant Load (0.2ms)[0m  SELECT "restaurants".* FROM "restaurants"
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mReview Exists (0.2ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 2]]
  [1m[36mReview Load (0.2ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[35mReview Exists (0.2ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 1]]
  [1m[36mReview Load (0.4ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  Rendered restaurants/index.html.haml within layouts/application (7.6ms)
Completed 200 OK in 113ms (Views: 110.1ms | ActiveRecord: 1.8ms)


Started GET "/" for ::1 at 2015-09-04 11:52:39 +0100
  [1m[36mActiveRecord::SchemaMigration Load (6.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#index as HTML
  [1m[35m (0.9ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.5ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mUser Load (2.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mReview Exists (1.4ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 2]]
  [1m[35mReview Load (0.3ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36mReview Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 1]]
  [1m[35mReview Load (0.5ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  Rendered restaurants/index.html.haml within layouts/application (117.2ms)
Completed 200 OK in 372ms (Views: 328.3ms | ActiveRecord: 26.6ms)


Started GET "/users/2/restaurants/new" for ::1 at 2015-09-04 11:52:48 +0100
Processing by RestaurantsController#new as HTML
  Parameters: {"user_id"=>"2"}
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered restaurants/new.html.haml within layouts/application (33.2ms)
Completed 200 OK in 92ms (Views: 77.3ms | ActiveRecord: 0.7ms)


Started POST "/restaurants" for ::1 at 2015-09-04 11:52:56 +0100
Processing by RestaurantsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"QEgj4LjCpZrRbRCgL2cayPLnzYNjHhiHdeaCasC+dOvziw292d2EhoQnaEsy9/WevFHI6shG+S0VK+ThCbVQTQ==", "restaurant"=>{"name"=>"Pret a manger"}, "commit"=>"Create Restaurant"}
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mRestaurant Exists (0.6ms)[0m  SELECT  1 AS one FROM "restaurants" WHERE "restaurants"."name" = 'Pret a manger' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "restaurants" ("name", "user_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "Pret a manger"], ["user_id", 2], ["created_at", "2015-09-04 10:52:56.366873"], ["updated_at", "2015-09-04 10:52:56.366873"]]
  [1m[35m (5.5ms)[0m  COMMIT
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mRestaurant Exists (0.4ms)[0m  SELECT  1 AS one FROM "restaurants" WHERE ("restaurants"."name" = 'Pret a manger' AND "restaurants"."id" != 3) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/restaurants
Completed 302 Found in 20ms (ActiveRecord: 7.8ms)


Started GET "/restaurants" for ::1 at 2015-09-04 11:52:56 +0100
Processing by RestaurantsController#index as HTML
  [1m[35m (1.6ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (4.2ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mUser Load (0.5ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mReview Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 2]]
  [1m[35mReview Load (0.2ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36mReview Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 1]]
  [1m[35mReview Load (0.2ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  [1m[36mReview Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 3]]
  Rendered restaurants/index.html.haml within layouts/application (17.5ms)
Completed 200 OK in 124ms (Views: 115.7ms | ActiveRecord: 7.4ms)


Started GET "/restaurants/3/reviews/new" for ::1 at 2015-09-04 11:52:58 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"restaurant_id"=>"3"}
  [1m[35mRestaurant Load (0.4ms)[0m  SELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1  [["id", 3]]
  Rendered reviews/new.html.haml within layouts/application (6.8ms)
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 134ms (Views: 129.4ms | ActiveRecord: 0.9ms)


Started POST "/restaurants/3/reviews" for ::1 at 2015-09-04 11:53:04 +0100
Processing by ReviewsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"4V2fodTLf8mawRbv03HETAJHuhudx0ouwY5s9zMRJmlSnrH8tdRe1c+LbgTO4SsaTPG/cjafq4ShQwp8+hoCzw==", "review"=>{"thoughts"=>"ok", "rating"=>"3"}, "commit"=>"Leave Review", "restaurant_id"=>"3"}
  [1m[35mRestaurant Load (0.9ms)[0m  SELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mUser Load (1.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (2.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mReview Exists (0.3ms)[0m  SELECT  1 AS one FROM "reviews" WHERE ("reviews"."user_id" = 2 AND "reviews"."restaurant_id" = 3) LIMIT 1
  [1m[36mSQL (0.6ms)[0m  [1mINSERT INTO "reviews" ("thoughts", "rating", "user_id", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["thoughts", "ok"], ["rating", 3], ["user_id", 2], ["restaurant_id", 3], ["created_at", "2015-09-04 10:53:04.113306"], ["updated_at", "2015-09-04 10:53:04.113306"]]
  [1m[35m (8.7ms)[0m  COMMIT
Redirected to http://localhost:3000/restaurants
Completed 302 Found in 32ms (ActiveRecord: 14.4ms)


Started GET "/restaurants" for ::1 at 2015-09-04 11:53:04 +0100
Processing by RestaurantsController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[35mRestaurant Load (0.3ms)[0m  SELECT "restaurants".* FROM "restaurants"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mReview Exists (0.2ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 2]]
  [1m[36mReview Load (0.2ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[35mReview Exists (0.3ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 1]]
  [1m[36mReview Load (0.4ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35mReview Exists (0.1ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 3]]
  [1m[36mReview Load (0.1ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  Rendered restaurants/index.html.haml within layouts/application (11.0ms)
Completed 200 OK in 67ms (Views: 64.3ms | ActiveRecord: 2.1ms)


Started DELETE "/restaurants/3/reviews.3" for ::1 at 2015-09-04 11:53:09 +0100
Processing by ReviewsController#destroy as 
  Parameters: {"authenticity_token"=>"cPGb4Un+VZdhECwRio/XnrfhanShlW9jqzVlnXOipKXDMrW8KOF0izRaVPqXHzjI+VdvHQrNjsnL+AMWuqmAAw==", "restaurant_id"=>"3"}
  [1m[35mReview Load (0.2ms)[0m  SELECT  "reviews".* FROM "reviews" WHERE "reviews"."id" = $1 LIMIT 1  [["id", nil]]
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms)

ActiveRecord::RecordNotFound (Couldn't find Review with 'id'=):
  app/controllers/reviews_controller.rb:23:in `destroy'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (7.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (5.1ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.1ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (90.9ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.8ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (60.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (141.3ms)


Started DELETE "/restaurants/3/reviews.3" for ::1 at 2015-09-04 11:56:20 +0100
Processing by ReviewsController#destroy as 
  Parameters: {"authenticity_token"=>"cPGb4Un+VZdhECwRio/XnrfhanShlW9jqzVlnXOipKXDMrW8KOF0izRaVPqXHzjI+VdvHQrNjsnL+AMWuqmAAw==", "restaurant_id"=>"3"}
  [1m[36mReview Load (0.4ms)[0m  [1mSELECT  "reviews".* FROM "reviews" WHERE "reviews"."id" = $1 LIMIT 1[0m  [["id", nil]]
Completed 404 Not Found in 2ms (ActiveRecord: 0.4ms)

ActiveRecord::RecordNotFound (Couldn't find Review with 'id'=):
  app/controllers/reviews_controller.rb:23:in `destroy'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (4.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.2ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/diagnostics.html.erb within rescues/layout (63.0ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.9ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (52.2ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (134.7ms)


Started GET "/" for ::1 at 2015-09-04 11:56:38 +0100
Processing by RestaurantsController#index as HTML
  [1m[35m (0.7ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.9ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mReview Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 2]]
  [1m[35mReview Load (0.2ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36mReview Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 1]]
  [1m[35mReview Load (0.1ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  [1m[36mReview Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 3]]
  [1m[35mReview Load (0.1ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 3]]
  Rendered restaurants/index.html.haml within layouts/application (28.9ms)
Completed 500 Internal Server Error in 36ms (ActiveRecord: 2.6ms)

ActionView::Template::Error (undefined method `restaurant_review_path' for #<#<Class:0x007fbeab950058>:0x007fbeae67fb78>):
    18:             %strong= review.rating
    19:             \/5
    20:             - if current_user && current_user.id == review.user_id
    21:               %h4= link_to "Delete review", restaurant_review_path(restaurant, review), method: :delete
    22:     - else
    23:       %p No reviews
    24: - else
  app/views/restaurants/index.html.haml:21:in `block (2 levels) in _app_views_restaurants_index_html_haml__2328224110851406752_70228473279600'
  app/views/restaurants/index.html.haml:15:in `block in _app_views_restaurants_index_html_haml__2328224110851406752_70228473279600'
  app/views/restaurants/index.html.haml:2:in `_app_views_restaurants_index_html_haml__2328224110851406752_70228473279600'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (0.8ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (54.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (45.1ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (103.6ms)


Started GET "/" for ::1 at 2015-09-04 11:57:58 +0100
Processing by RestaurantsController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[35mRestaurant Load (0.2ms)[0m  SELECT "restaurants".* FROM "restaurants"
  [1m[36mUser Load (0.2ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mReview Exists (0.2ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 2]]
  [1m[36mReview Load (0.1ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[35mReview Exists (0.8ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 1]]
  [1m[36mReview Load (0.6ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35mReview Exists (0.2ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 3]]
  [1m[36mReview Load (0.1ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  Rendered restaurants/index.html.haml within layouts/application (16.3ms)
Completed 200 OK in 79ms (Views: 75.0ms | ActiveRecord: 2.8ms)


Started DELETE "/restaurants/3/reviews/edit.3" for ::1 at 2015-09-04 11:58:01 +0100

ActionController::RoutingError (No route matches [DELETE] "/restaurants/3/reviews/edit.3"):
  actionpack (4.2.2) lib/action_dispatch/middleware/debug_exceptions.rb:21:in `call'
  web-console (2.2.1) lib/web_console/middleware.rb:39:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/show_exceptions.rb:30:in `call'
  railties (4.2.2) lib/rails/rack/logger.rb:38:in `call_app'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `block in call'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `block in tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:26:in `tagged'
  activesupport (4.2.2) lib/active_support/tagged_logging.rb:68:in `tagged'
  railties (4.2.2) lib/rails/rack/logger.rb:20:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/request_id.rb:21:in `call'
  rack (1.6.4) lib/rack/methodoverride.rb:22:in `call'
  rack (1.6.4) lib/rack/runtime.rb:18:in `call'
  activesupport (4.2.2) lib/active_support/cache/strategy/local_cache_middleware.rb:28:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  actionpack (4.2.2) lib/action_dispatch/middleware/static.rb:113:in `call'
  rack (1.6.4) lib/rack/sendfile.rb:113:in `call'
  railties (4.2.2) lib/rails/engine.rb:518:in `call'
  railties (4.2.2) lib/rails/application.rb:164:in `call'
  rack (1.6.4) lib/rack/lock.rb:17:in `call'
  rack (1.6.4) lib/rack/content_length.rb:15:in `call'
  rack (1.6.4) lib/rack/handler/webrick.rb:88:in `service'
  /Users/rebeccaappleyard1984/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:138:in `service'
  /Users/rebeccaappleyard1984/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/httpserver.rb:94:in `run'
  /Users/rebeccaappleyard1984/.rvm/rubies/ruby-2.2.2/lib/ruby/2.2.0/webrick/server.rb:294:in `block in start_thread'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (1.8ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/routes/_route.html.erb (3.8ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/routes/_table.html.erb (3.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (2.0ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/routing_error.html.erb within rescues/layout (125.0ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (73.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (154.3ms)


Started GET "/" for ::1 at 2015-09-04 12:00:13 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#index as HTML
  [1m[35m (0.5ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.3ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mUser Load (0.6ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mReview Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 2]]
  [1m[35mReview Load (0.3ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36mReview Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 1]]
  [1m[35mReview Load (0.4ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  Rendered restaurants/index.html.haml within layouts/application (208.4ms)
Completed 500 Internal Server Error in 265ms (ActiveRecord: 9.5ms)

ActionView::Template::Error (undefined method `new_restaurant_reviews_path' for #<#<Class:0x007fe7f2012250>:0x007fe7f20117d8>):
     5:     -if current_user && current_user.id == restaurant.user_id
     6:       %h4= link_to "Edit #{restaurant.name}", edit_restaurant_path(restaurant)
     7:       %h4= link_to "Delete #{restaurant.name}", restaurant_path(restaurant), method: :delete
     8:       %h4= link_to "Review #{restaurant.name}", new_restaurant_reviews_path(restaurant)
     9:     %h3
    10:       Review for
    11:       = restaurant.name
  app/views/restaurants/index.html.haml:8:in `block in _app_views_restaurants_index_html_haml___298610551535381974_70317039269360'
  app/views/restaurants/index.html.haml:2:in `_app_views_restaurants_index_html_haml___298610551535381974_70317039269360'


  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_source.erb (5.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_trace.html.erb (2.1ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/_request_and_response.html.erb (1.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/actionpack-4.2.2/lib/action_dispatch/middleware/templates/rescues/template_error.html.erb within rescues/layout (59.0ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_markup.html.erb (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_inner_console_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/_prompt_box_markup.html.erb within layouts/inlined_string (0.4ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/style.css.erb within layouts/inlined_string (0.9ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/console.js.erb within layouts/javascript (122.5ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/main.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/error_page.js.erb within layouts/javascript (0.3ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/web-console-2.2.1/lib/web_console/templates/index.html.erb (236.8ms)


Started GET "/" for ::1 at 2015-09-04 12:00:55 +0100
Processing by RestaurantsController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[35mRestaurant Load (0.2ms)[0m  SELECT "restaurants".* FROM "restaurants"
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mReview Exists (0.2ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 2]]
  [1m[36mReview Load (0.2ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[35mReview Exists (0.2ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35mReview Exists (0.3ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 3]]
  [1m[36mReview Load (0.2ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  Rendered restaurants/index.html.haml within layouts/application (13.4ms)
Completed 200 OK in 236ms (Views: 232.8ms | ActiveRecord: 2.1ms)


Started DELETE "/restaurants/3/reviews/3" for ::1 at 2015-09-04 12:00:58 +0100
Processing by ReviewsController#destroy as HTML
  Parameters: {"authenticity_token"=>"mO3eJtVNsL+Lm7Hyd9oHDFL+rf2nQXtw2PlkfIhO3NQrLvB7tFKRo97RyRlqSuhaHEiolAwZmtq4NAL3QUX4cg==", "restaurant_id"=>"3", "id"=>"3"}
  [1m[35mReview Load (0.4ms)[0m  SELECT  "reviews".* FROM "reviews" WHERE "reviews"."id" = $1 LIMIT 1  [["id", 3]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "reviews" WHERE "reviews"."id" = $1[0m  [["id", 3]]
  [1m[35m (12.1ms)[0m  COMMIT
Redirected to http://localhost:3000/restaurants
Completed 302 Found in 23ms (ActiveRecord: 14.1ms)


Started GET "/restaurants" for ::1 at 2015-09-04 12:00:58 +0100
Processing by RestaurantsController#index as HTML
  [1m[36m (0.4ms)[0m  [1mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[35mRestaurant Load (0.5ms)[0m  SELECT "restaurants".* FROM "restaurants"
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mReview Exists (0.3ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 2]]
  [1m[36mReview Load (0.3ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[35mReview Exists (0.2ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35mReview Exists (0.2ms)[0m  SELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1  [["restaurant_id", 3]]
  Rendered restaurants/index.html.haml within layouts/application (13.0ms)
Completed 200 OK in 118ms (Views: 115.0ms | ActiveRecord: 2.5ms)


Started GET "/restaurants" for ::1 at 2015-09-04 13:23:09 +0100
  [1m[36mActiveRecord::SchemaMigration Load (1.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#index as HTML
  [1m[35m (1.1ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.3ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mUser Load (0.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mReview Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 2]]
  [1m[35mReview Load (0.3ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36mReview Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 1]]
  [1m[35mReview Load (0.3ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  [1m[36mReview Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 3]]
  Rendered restaurants/index.html.haml within layouts/application (161.7ms)
Completed 200 OK in 424ms (Views: 395.5ms | ActiveRecord: 12.5ms)


Started GET "/restaurants" for ::1 at 2015-09-04 13:23:45 +0100
Processing by RestaurantsController#index as HTML
  [1m[35m (0.4ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.3ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mReview Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 2]]
  [1m[35mReview Load (0.2ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36mReview Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 1]]
  [1m[35mReview Load (0.2ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  [1m[36mReview Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE "reviews"."restaurant_id" = $1 LIMIT 1[0m  [["restaurant_id", 3]]
  Rendered restaurants/index.html.haml within layouts/application (15.1ms)
Completed 200 OK in 74ms (Views: 70.7ms | ActiveRecord: 2.6ms)


Started GET "/restaurants" for ::1 at 2015-09-04 15:08:09 +0100
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by RestaurantsController#index as HTML
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.3ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mReview Load (0.7ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36m (1.6ms)[0m  [1mSELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mReview Load (0.2ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35m (0.3ms)[0m  SELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  [1m[36mReview Load (0.3ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  Rendered restaurants/index.html.haml within layouts/application (71.6ms)
Completed 200 OK in 338ms (Views: 304.3ms | ActiveRecord: 12.5ms)


Started GET "/restaurants/2/reviews/new" for ::1 at 2015-09-04 15:08:12 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"restaurant_id"=>"2"}
  [1m[35mRestaurant Load (0.3ms)[0m  SELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered reviews/new.html.haml within layouts/application (20.3ms)
  [1m[36mUser Load (2.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 95ms (Views: 89.0ms | ActiveRecord: 2.9ms)


Started POST "/restaurants/2/reviews" for ::1 at 2015-09-04 15:08:16 +0100
Processing by ReviewsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"um3cyq8m4uf0VVfZbLS6fw8K3lTd6nlhdnjNgKAeRvQJrvKXzjnD+6EfLzJxJFUpQbzbPXaymMsWtasLaRViUg==", "review"=>{"thoughts"=>"ok", "rating"=>"2"}, "commit"=>"Leave Review", "restaurant_id"=>"2"}
  [1m[35mRestaurant Load (0.9ms)[0m  SELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mUser Load (0.4ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mReview Exists (4.2ms)[0m  SELECT  1 AS one FROM "reviews" WHERE ("reviews"."user_id" = 2 AND "reviews"."restaurant_id" = 2) LIMIT 1
  [1m[36mSQL (3.2ms)[0m  [1mINSERT INTO "reviews" ("thoughts", "rating", "user_id", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["thoughts", "ok"], ["rating", 2], ["user_id", 2], ["restaurant_id", 2], ["created_at", "2015-09-04 14:08:16.945012"], ["updated_at", "2015-09-04 14:08:16.945012"]]
  [1m[35m (9.2ms)[0m  COMMIT
Redirected to http://localhost:3000/restaurants
Completed 302 Found in 47ms (ActiveRecord: 18.4ms)


Started GET "/restaurants" for ::1 at 2015-09-04 15:08:16 +0100
Processing by RestaurantsController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[35mRestaurant Load (0.2ms)[0m  SELECT "restaurants".* FROM "restaurants"
  [1m[36mReview Load (5.6ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36mUser Load (0.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mReview Load (0.3ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35mReview Load (0.2ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 3]]
  Rendered restaurants/index.html.haml within layouts/application (16.5ms)
Completed 200 OK in 139ms (Views: 131.3ms | ActiveRecord: 7.5ms)


Started GET "/restaurants/1/reviews/new" for ::1 at 2015-09-04 15:08:34 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  Rendered reviews/new.html.haml within layouts/application (1.8ms)
  [1m[35mUser Load (8.9ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
Completed 200 OK in 78ms (Views: 67.8ms | ActiveRecord: 9.2ms)


Started POST "/restaurants/1/reviews" for ::1 at 2015-09-04 15:08:39 +0100
Processing by ReviewsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"pshoGeuxg8NAsHzw3HehMrk3V3Kxck4pULVyMAA0I1UVC0ZEiq6i3xX6BBvB505k94FSGxoqr4MweBS7yT8H8w==", "review"=>{"thoughts"=>"nice", "rating"=>"3"}, "commit"=>"Leave Review", "restaurant_id"=>"1"}
  [1m[36mRestaurant Load (0.3ms)[0m  [1mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.7ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 2]]
  [1m[36mReview Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE ("reviews"."user_id" = 2 AND "reviews"."restaurant_id" = 1) LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "reviews" ("thoughts", "rating", "user_id", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["thoughts", "nice"], ["rating", 3], ["user_id", 2], ["restaurant_id", 1], ["created_at", "2015-09-04 14:08:39.208999"], ["updated_at", "2015-09-04 14:08:39.208999"]]
  [1m[36m (8.0ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/restaurants
Completed 302 Found in 23ms (ActiveRecord: 10.5ms)


Started GET "/restaurants" for ::1 at 2015-09-04 15:08:39 +0100
Processing by RestaurantsController#index as HTML
  [1m[35m (0.6ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.3ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mReview Load (0.1ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36m (0.2ms)[0m  [1mSELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mReview Load (0.1ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  [1m[36mReview Load (0.1ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  Rendered restaurants/index.html.haml within layouts/application (9.1ms)
Completed 200 OK in 68ms (Views: 64.9ms | ActiveRecord: 1.8ms)


Started GET "/restaurants/1/reviews/new" for ::1 at 2015-09-04 15:08:45 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[35mRestaurant Load (0.3ms)[0m  SELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered reviews/new.html.haml within layouts/application (1.8ms)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 76ms (Views: 73.8ms | ActiveRecord: 1.2ms)


Started POST "/restaurants/1/reviews" for ::1 at 2015-09-04 15:08:51 +0100
Processing by ReviewsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8kzaViz7WQo/IQbZ9w1C0qUkxKh3cbVvionjsHJXFb5Bj/QLTeR4FmprfjLqna2E65LBwdwpVMXqRIU7u1wxGA==", "review"=>{"thoughts"=>"nice", "rating"=>"5"}, "commit"=>"Leave Review", "restaurant_id"=>"1"}
  [1m[35mRestaurant Load (0.7ms)[0m  SELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.4ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mReview Exists (0.3ms)[0m  SELECT  1 AS one FROM "reviews" WHERE ("reviews"."user_id" = 2 AND "reviews"."restaurant_id" = 1) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
Redirected to http://localhost:3000/restaurants
Completed 302 Found in 14ms (ActiveRecord: 2.1ms)


Started GET "/restaurants" for ::1 at 2015-09-04 15:08:51 +0100
Processing by RestaurantsController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.3ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mReview Load (0.2ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36m (0.3ms)[0m  [1mSELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mReview Load (0.2ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35m (0.3ms)[0m  SELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  Rendered restaurants/index.html.haml within layouts/application (16.0ms)
Completed 200 OK in 111ms (Views: 108.6ms | ActiveRecord: 2.1ms)
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mRestaurant Exists (1.1ms)[0m  SELECT  1 AS one FROM "restaurants" WHERE "restaurants"."name" = 'The Ivy' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "restaurants" ("name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["name", "The Ivy"], ["created_at", "2015-09-04 14:10:35.898935"], ["updated_at", "2015-09-04 14:10:35.898935"]]
  [1m[35m (0.3ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mReview Exists (0.8ms)[0m  SELECT  1 AS one FROM "reviews" WHERE ("reviews"."user_id" IS NULL AND "reviews"."restaurant_id" = 4) LIMIT 1
  [1m[36mSQL (1.1ms)[0m  [1mINSERT INTO "reviews" ("rating", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["rating", 5], ["restaurant_id", 4], ["created_at", "2015-09-04 14:10:51.301102"], ["updated_at", "2015-09-04 14:10:51.301102"]]
  [1m[35m (11.2ms)[0m  COMMIT
  [1m[36m (0.4ms)[0m  [1mBEGIN[0m
  [1m[35mReview Exists (3.6ms)[0m  SELECT  1 AS one FROM "reviews" WHERE ("reviews"."user_id" IS NULL AND "reviews"."restaurant_id" = 4) LIMIT 1
  [1m[36m (1.1ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'b@bex.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "b@bex.com"], ["encrypted_password", "$2a$10$kTAR8s38TL5INaTNgHycrupokZlW2oEdyozLS71DZLPnb5sW9bwj2"], ["created_at", "2015-09-04 14:15:17.484852"], ["updated_at", "2015-09-04 14:15:17.484852"]]
  [1m[36m (0.5ms)[0m  [1mCOMMIT[0m


Started GET "/restaurants/2/reviews/new" for ::1 at 2015-09-04 15:29:53 +0100
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Processing by ReviewsController#new as HTML
  Parameters: {"restaurant_id"=>"2"}
  [1m[35mRestaurant Load (0.4ms)[0m  SELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1  [["id", 2]]
  Rendered reviews/new.html.haml within layouts/application (48.8ms)
  [1m[36mUser Load (1.5ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 2]]
Completed 200 OK in 434ms (Views: 368.5ms | ActiveRecord: 7.1ms)


Started DELETE "/users/sign_out" for ::1 at 2015-09-04 15:29:57 +0100
Processing by Devise::SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"cqLo+630sSaiq+0lK2Qwgh3S66sLxdr3SLjk3pRmzvXBYcamzOuQOvfhlc429N/UU2TuwqCdO10odYJVXW3qUw=="}
  [1m[35mUser Load (1.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  COMMIT
Redirected to http://localhost:3000/
Completed 302 Found in 9ms (ActiveRecord: 1.3ms)


Started GET "/" for ::1 at 2015-09-04 15:29:57 +0100
Processing by RestaurantsController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[35mRestaurant Load (0.2ms)[0m  SELECT "restaurants".* FROM "restaurants"
  [1m[36mReview Load (0.3ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36mReview Load (0.2ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35m (0.2ms)[0m  SELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  [1m[36mReview Load (0.2ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  [1m[35mReview Load (0.2ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 4]]
  [1m[36m (0.3ms)[0m  [1mSELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 4]]
  Rendered restaurants/index.html.haml within layouts/application (32.9ms)
Completed 200 OK in 143ms (Views: 139.7ms | ActiveRecord: 2.1ms)


Started GET "/users/sign_in" for ::1 at 2015-09-04 15:29:59 +0100
Processing by Devise::SessionsController#new as HTML
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/shared/_links.html.erb (1.7ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/sessions/new.html.erb within layouts/application (19.1ms)
Completed 200 OK in 119ms (Views: 117.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for ::1 at 2015-09-04 15:30:03 +0100
Processing by Devise::RegistrationsController#new as HTML
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/shared/_links.html.erb (0.6ms)
  Rendered /Users/rebeccaappleyard1984/.rvm/gems/ruby-2.2.2/gems/devise-3.5.2/app/views/devise/registrations/new.html.erb within layouts/application (6.0ms)
Completed 200 OK in 52ms (Views: 51.3ms | ActiveRecord: 0.0ms)


Started POST "/users" for ::1 at 2015-09-04 15:30:16 +0100
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"qgwSJQ5wotoEKFNYYIRfx4djGkgV7BL+0kIG9IDZaaBXoXBqUVHSRMfUQBU0Puw3+3J3e1IJJJRtqDzjEnD3Zg==", "user"=>{"email"=>"guiseppe@test.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign up"}
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'guiseppe@test.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["email", "guiseppe@test.com"], ["encrypted_password", "$2a$10$ZVld2KVN/eEMDIFiUnua2.e4PHrnwE82oBtKCRN0e0QFdTtlvb0Ia"], ["created_at", "2015-09-04 14:30:16.159669"], ["updated_at", "2015-09-04 14:30:16.159669"]]
  [1m[36m (12.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "users" SET "last_sign_in_at" = $1, "current_sign_in_at" = $2, "last_sign_in_ip" = $3, "current_sign_in_ip" = $4, "sign_in_count" = $5, "updated_at" = $6 WHERE "users"."id" = $7[0m  [["last_sign_in_at", "2015-09-04 14:30:16.174086"], ["current_sign_in_at", "2015-09-04 14:30:16.174086"], ["last_sign_in_ip", "::1/128"], ["current_sign_in_ip", "::1/128"], ["sign_in_count", 1], ["updated_at", "2015-09-04 14:30:16.174954"], ["id", 4]]
  [1m[35m (6.0ms)[0m  COMMIT
Redirected to http://localhost:3000/
Completed 302 Found in 143ms (ActiveRecord: 19.3ms)


Started GET "/" for ::1 at 2015-09-04 15:30:16 +0100
Processing by RestaurantsController#index as HTML
  [1m[36m (0.3ms)[0m  [1mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[35mRestaurant Load (0.4ms)[0m  SELECT "restaurants".* FROM "restaurants"
  [1m[36mReview Load (0.2ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[35m (0.2ms)[0m  SELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 4]]
  [1m[35mReview Load (0.3ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  [1m[36m (0.3ms)[0m  [1mSELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35mReview Load (0.2ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 3]]
  [1m[36mReview Load (0.2ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 4]]
  [1m[35m (0.3ms)[0m  SELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 4]]
  Rendered restaurants/index.html.haml within layouts/application (13.9ms)
Completed 200 OK in 111ms (Views: 107.6ms | ActiveRecord: 2.6ms)


Started GET "/restaurants/2/reviews/new" for ::1 at 2015-09-04 15:30:18 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"restaurant_id"=>"2"}
  [1m[36mRestaurant Load (0.2ms)[0m  [1mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1[0m  [["id", 2]]
  Rendered reviews/new.html.haml within layouts/application (2.2ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 4]]
Completed 200 OK in 107ms (Views: 104.8ms | ActiveRecord: 0.6ms)


Started POST "/restaurants/2/reviews" for ::1 at 2015-09-04 15:30:22 +0100
Processing by ReviewsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"QmTXi1kbW8nJzBz9cTyE5NljqyBPDxvPlADjA8iJgDe/ybXEBjorVwowD7AlhjcUpXLGEwjqLaUr6tkUWiAe8Q==", "review"=>{"thoughts"=>"nice", "rating"=>"1"}, "commit"=>"Leave Review", "restaurant_id"=>"2"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1[0m  [["id", 2]]
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 4]]
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.4ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mReview Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE ("reviews"."user_id" = 4 AND "reviews"."restaurant_id" = 2) LIMIT 1[0m
  [1m[35mSQL (0.9ms)[0m  INSERT INTO "reviews" ("thoughts", "rating", "user_id", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["thoughts", "nice"], ["rating", 1], ["user_id", 4], ["restaurant_id", 2], ["created_at", "2015-09-04 14:30:22.610702"], ["updated_at", "2015-09-04 14:30:22.610702"]]
  [1m[36m (8.8ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/restaurants
Completed 302 Found in 28ms (ActiveRecord: 11.6ms)


Started GET "/restaurants" for ::1 at 2015-09-04 15:30:22 +0100
Processing by RestaurantsController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.2ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mReview Load (0.2ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 4]]
  [1m[36mReview Load (0.1ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  [1m[36mReview Load (0.1ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  [1m[35mReview Load (0.2ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 4]]
  [1m[36m (0.2ms)[0m  [1mSELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 4]]
  Rendered restaurants/index.html.haml within layouts/application (12.8ms)
Completed 200 OK in 65ms (Views: 62.0ms | ActiveRecord: 1.9ms)


Started GET "/restaurants/1/reviews/new" for ::1 at 2015-09-04 15:30:52 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"restaurant_id"=>"1"}
  [1m[35mRestaurant Load (0.3ms)[0m  SELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1  [["id", 1]]
  Rendered reviews/new.html.haml within layouts/application (2.4ms)
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 4]]
Completed 200 OK in 80ms (Views: 78.0ms | ActiveRecord: 0.6ms)


Started POST "/restaurants/1/reviews" for ::1 at 2015-09-04 15:30:56 +0100
Processing by ReviewsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"XNuPG5yZ7YbIPQga73fILVHIOPK7a2hfMnCVvce3xIehdu1Uw7idGAvBG1e7zXvdLdlVwfyOXjWNmq+qVR5aQQ==", "review"=>{"thoughts"=>"ok", "rating"=>"5"}, "commit"=>"Leave Review", "restaurant_id"=>"1"}
  [1m[35mRestaurant Load (0.4ms)[0m  SELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1  [["id", 1]]
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Load (0.3ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mReview Exists (0.4ms)[0m  SELECT  1 AS one FROM "reviews" WHERE ("reviews"."user_id" = 4 AND "reviews"."restaurant_id" = 1) LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "reviews" ("thoughts", "rating", "user_id", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["thoughts", "ok"], ["rating", 5], ["user_id", 4], ["restaurant_id", 1], ["created_at", "2015-09-04 14:30:56.861477"], ["updated_at", "2015-09-04 14:30:56.861477"]]
  [1m[35m (7.3ms)[0m  COMMIT
Redirected to http://localhost:3000/restaurants
Completed 302 Found in 20ms (ActiveRecord: 9.2ms)


Started GET "/restaurants" for ::1 at 2015-09-04 15:30:56 +0100
Processing by RestaurantsController#index as HTML
  [1m[36m (0.8ms)[0m  [1mSELECT COUNT(*) FROM "restaurants"[0m
  [1m[35mRestaurant Load (0.2ms)[0m  SELECT "restaurants".* FROM "restaurants"
  [1m[36mReview Load (0.1ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[35m (0.7ms)[0m  SELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36mUser Load (0.1ms)[0m  [1mSELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1[0m  [["id", 4]]
  [1m[35mReview Load (0.1ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  [1m[36m (0.1ms)[0m  [1mSELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35mReview Load (0.1ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 3]]
  [1m[36mReview Load (0.1ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 4]]
  [1m[35m (0.2ms)[0m  SELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 4]]
  Rendered restaurants/index.html.haml within layouts/application (25.2ms)
Completed 200 OK in 74ms (Views: 71.0ms | ActiveRecord: 2.6ms)


Started GET "/restaurants/4/reviews/new" for ::1 at 2015-09-04 15:31:04 +0100
Processing by ReviewsController#new as HTML
  Parameters: {"restaurant_id"=>"4"}
  [1m[36mRestaurant Load (0.4ms)[0m  [1mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1[0m  [["id", 4]]
  Rendered reviews/new.html.haml within layouts/application (4.3ms)
  [1m[35mUser Load (0.3ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 4]]
Completed 200 OK in 50ms (Views: 47.4ms | ActiveRecord: 0.7ms)


Started POST "/restaurants/4/reviews" for ::1 at 2015-09-04 15:31:08 +0100
Processing by ReviewsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"CI2uhS2Nj+1rMZea8pXH9tiphWHkESSNWRIlam+yfCr1IMzKcqz/c6jNhNemL3QGpLjoUqP0Eufm+B99/Rvi7A==", "review"=>{"thoughts"=>"bad", "rating"=>"1"}, "commit"=>"Leave Review", "restaurant_id"=>"4"}
  [1m[36mRestaurant Load (1.1ms)[0m  [1mSELECT  "restaurants".* FROM "restaurants" WHERE "restaurants"."id" = $1 LIMIT 1[0m  [["id", 4]]
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 4]]
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Load (0.2ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT 1  [["id", 4]]
  [1m[36mReview Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "reviews" WHERE ("reviews"."user_id" = 4 AND "reviews"."restaurant_id" = 4) LIMIT 1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "reviews" ("thoughts", "rating", "user_id", "restaurant_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["thoughts", "bad"], ["rating", 1], ["user_id", 4], ["restaurant_id", 4], ["created_at", "2015-09-04 14:31:08.194281"], ["updated_at", "2015-09-04 14:31:08.194281"]]
  [1m[36m (7.5ms)[0m  [1mCOMMIT[0m
Redirected to http://localhost:3000/restaurants
Completed 302 Found in 28ms (ActiveRecord: 10.2ms)


Started GET "/restaurants" for ::1 at 2015-09-04 15:31:08 +0100
Processing by RestaurantsController#index as HTML
  [1m[35m (0.3ms)[0m  SELECT COUNT(*) FROM "restaurants"
  [1m[36mRestaurant Load (0.2ms)[0m  [1mSELECT "restaurants".* FROM "restaurants"[0m
  [1m[35mReview Load (0.1ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 2]]
  [1m[36m (0.1ms)[0m  [1mSELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 2]]
  [1m[35mUser Load (0.1ms)[0m  SELECT  "users".* FROM "users" WHERE "users"."id" = $1  ORDER BY "users"."id" ASC LIMIT 1  [["id", 4]]
  [1m[36mReview Load (0.1ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 1]]
  [1m[35m (0.1ms)[0m  SELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 1]]
  [1m[36mReview Load (0.1ms)[0m  [1mSELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 3]]
  [1m[35mReview Load (0.1ms)[0m  SELECT "reviews".* FROM "reviews" WHERE "reviews"."restaurant_id" = $1  [["restaurant_id", 4]]
  [1m[36m (0.1ms)[0m  [1mSELECT AVG("reviews"."rating") FROM "reviews" WHERE "reviews"."restaurant_id" = $1[0m  [["restaurant_id", 4]]
  Rendered restaurants/index.html.haml within layouts/application (9.3ms)
Completed 200 OK in 52ms (Views: 49.3ms | ActiveRecord: 1.5ms)
